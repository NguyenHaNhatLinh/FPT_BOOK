@model List<FPTBook.Models.CartItem>
@{
    ViewData["Title"] = "Cart";
}

<section class="header_text sub">
	<img class="pageBanner" src="~/themes/images/pageBanner.png" alt="New products">
	<h4><span>Shopping Cart</span></h4>
</section>
<section class="main-content">
	<div class="row">
		@if (Model.Count > 0)
		{
			decimal total = 0;
			int stt = 1;

			<div class="span9">
				<h4 class="title"><span class="text"><strong>Your</strong> Cart</span></h4>
				<table class="table table-striped">
					<thead>
						<tr>
							<th>Remove</th>
							<th>Image</th>
							<th>Product Name</th>
							<th>Quantity</th>
							<th>Unit Price</th>
							<th>Total</th>
						</tr>
					</thead>
					<tbody>
						@foreach (var cartitem in Model)
						{
							var subTotal = cartitem.Quantity * cartitem.Book.Price;
							total += subTotal;

							<tr>
								<td><input type="checkbox" value="option1"></td>
								<td><img class="img-fluid" style="width: 20%" alt="Book Image" src="/Image/@cartitem.Book.ImgFileName"></td>
								<td>@cartitem.Book.Name</td>
								<td><input type="text" placeholder="1" class="input-mini"></td>
								<td>$@cartitem.Book.Price</td>
								<td>$@subTotal</td>
							</tr>
						}
					</tbody>
				</table>
			</div>
			<div class="span3 col">
				<div class="block">
					<h4 class="title">
						<span class="pull-left"><span class="text">Randomize</span></span>
					</h4>
					<p class="cart-total right">
						<strong>Total</strong>: $@(total.ToString("n0"))<br>
					</p>
				</div>

				<hr />
				<p class="buttons center">
					<button class="btn" type="button">Update</button>
					<button class="btn btn-inverse" type="submit" id="checkout">Checkout</button>
				</p>
			</div>
		}
	</div>
</section>

